# اصل باز و بسته بودن و Interface ها

ر تعریف اول اصل باز و بسته بودن، برتراند میر (Bertrand Meyer) در کتاب با نام ساختار نرم افزار شی گرا (Object Oriented Software Construction) اینطور نوشته است:

"موجودیت‌های نرم افزار (کلاس، ماژول، تابع و...) باید برای گسترش باز اما برای تغییر بسته باشند."

اما مشکل این تعریف در آن است که به طور تنگاتنگی با Inheritance یا وراثت در رابطه است. بنابراین کلاس‌های فرزند با ارث بردن از کلاس والد تا حد زیادی به جزئیات 

ساختار والد وابسته می‌شدند. این روند باعث ایجاد اتصال تنگاتنگ (Tight Coupling) می‌شد.

برای آشنایی بیشتر با این مشکل بهتر است در مورد اصول طراحی کد بیشتر صحبت کنیم. به طور کلی اصول طراحی کد بر اساس این دو اصل استوار است:

#### High Cohesion یا انسجام بالا

##### Low Coupling یا اتصال کم (Loosely Coupling)

به طور خلاصه انسجام بالا یعنی این که متد‌های یک کلاس همه در خدمت یک هدف باشند. اتصال کم یعنی ماژول‌های یک برنامه نباید با یکدیگر در هم تنیده و بیش از حد متصل 

باشند. در صورت وجود چنین مشکلی در برنامه، اصطلاحا آن برنامه را (Tight Coupled) می‌نامند. در برنامه‌های در هم تنیده پس از ایجاد تغییر در یک کلاس مجبوریم 

کلاس‌های وابسته و مربوط دیگر را هم تغییر دهیم. یعنی تغییر کوچکی در برنامه باعث بر زمین ریختن آوار برنامه و ارور‌های مکرر می‌شود.

به اصل باز و بسته بودن بر می‌گردیم. گفتیم در صورتی که در این اصل از Inheritance استفاده کنیم، باعث ایجاد اتصال تنگاتنگ در برنامه می‌شویم. بنابراین عمو باب 

تعریف تازه ای از اصل باز و بسته بودن ارائه داد که به جای وراثت بر چندریختی (پلی مورفیسم) استوار است. حالا به جای سوپرکلاس‌ها یا کلاس‌های والد از Interface 

استفاده می‌کنیم. با این کار برای جایگزینی کد به جای درگیر شدن در جزئیات سوپرکلاس ها، تنها Interface‌ها را پیاده سازی می‌کنیم و به گسترش برنامه می‌پردازیم. 

اما به هر حال انتخاب بین وراثت و چند ریختی برای رعایت اصل باز و بسته بودن انتخاب شماست!